<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript" src="build/three.js"></script>
    <script src='examples/js/OrbitControls.js'></script>
    <script src='examples/js/Detector.js'></script>
    <script src="jexamples/js/BinaryLoader.js"></script>
    <script src="examples/js/stats.min.js"></script>
	<script src="examples/js/DeviceOrientationControls.js"></script>
    <div id="onGeometry" style="width:500px; height: 500px;">
</head>
<body>
 <script src="examples/js/DeviceOrientationControls.js"></script>
    <script type="text/javascript">
	
	var camera, scene, renderer, controls;
	
	init();
	animate();
	
	function init() {
			
		camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);//添加相机
            camera.position.z = 5;
			
		controls = new THREE.DeviceOrientationControls( camera );
		
         scene = new THREE.Scene();//创建场景
 
        var textureCube = new THREE.CubeTextureLoader()
            .setPath( 'examples/textures/')
            .load( [ 'posx.jpg', 'negx.jpg', 'posy.jpg', 'negy.jpg', 'posz.jpg', 'negz.jpg' ] );//添加天空盒子背景图
 
        scene.background = textureCube;
         
      
        var geometry = new THREE.CubeGeometry(1,1,1);
        var material = new THREE.MeshBasicMaterial( {
					map: new THREE.TextureLoader().load( 'examples/textures/3.jpg' )
				} );
        var cube = new THREE.Mesh(geometry, material); 
		scene.add(cube);
   
	
	
        var container=document.getElementById('onGeometry').appendChild(renderer.domElement);
 
        var orbit = new THREE.OrbitControls( camera, container );
            orbit.addEventListener( 'change', render );
			
			
			renderer = new THREE.WebGLRenderer( { antialias: true } );
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );
			
		window.addEventListener( 'resize', onWindowResize, false );	
	}
       
	  function animate() {

				window.requestAnimationFrame( animate );

				controls.update();
				renderer.render( scene, camera );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

		}  
        
 
    </script>
</body>
</html>
